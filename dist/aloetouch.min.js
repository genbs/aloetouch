!function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),o=n(s),a={length:0,list:{},bind:function(t,e,i){var n=++a.length;return a.list[n]=new o.default(n,t,e,i),a.get(n)},get:function(t){var e=a.list[t];return{el:e.el,attach:e.attach.bind(e),detach:e.detach.bind(e),setState:e.setState.bind(e),removeState:e.removeState.bind(e),clearState:e.clearState.bind(e),lock:e.lock.bind(e),unlock:e.unlock.bind(e),id:t}},lock:function(t){t&&a.list[t].lock(),!t&&a.map(function(t){return t.lock()})},lockExcept:function(t){a.map(function(e,i){a.list[i][t.indexOf(i)==-1?"unlock":"lock"]()})},lockOnly:function(t){a.map(function(e,i){a.list[i][t.indexOf(i)>=0?"lock":"unlock"]()})},unlock:function(t){t&&a.list[t].unlock(),!t&&a.map(function(t){return t.unlock()})},unlockExcept:function(t){a.lockOnly(t)},unlockOnly:function(t){a.lockExcept(t)},map:function(t){Object.keys(a.list).forEach(function(e){return t(a.list[e],e)})}};e.default=a},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(3),r=n(a),u=i(2),c=n(u),l=85,h=600,d=20,f=function(){function t(e,i,n,o){s(this,t),this.id=e,this.el="string"==typeof i?document.querySelector(i):i,this.events=n||{},this.strictMode=o||!0,this.utils=r.default,this.state=c.default,this.locked=!0,this.events.state=this.events.state||{},this.eventBind={el:this.el,clearState:this.clearState.bind(this)},this.__start=this.start.bind(this),this.__move=this.move.bind(this),this.__finish=this.finish.bind(this),this.clear(),this.clearState(),this.unlock()}return o(t,[{key:"start",value:function(t){this.locked||(this.started=this.utils.create(t,this.strictMode?this.el:null,this.started),this.started.updated&&(this.mooving=!0),!this.started.updated&&(this.pressEmitted=window.setTimeout(this.press.bind(this),h)),this.emit("touchstart"))}},{key:"move",value:function(t){var e=this;!this.locked&&this.prepareMove(t,function(i){e.isPermissible()?(t.preventDefault(),t.stopPropagation(),e.mooving=!0,e.dispatch()):e.mooving=!1})}},{key:"prepareMove",value:function(t,e){this.started&&e.call(this,this.ended=this.utils.create(t,this.el)),!this.started&&this.clear()}},{key:"isPermissible",value:function(){var t=this.ended.time-this.started.time,e=this.utils.isHorizontal(this.started,this.ended);return this.mooving||null===this.mooving&&(e||t>l)}},{key:"dispatch",value:function(){var t=this.utils.howManyTouches(this.ended),e=null,i=null,n=null;return 1==t?e=this.utils.coords(this.started,this.ended):2==t&&(e=this.utils.coords(this.started,this.ended),i=this.utils.distanceBetween(this.started,this.ended),n=this.utils.rotation(this.started,this.ended)),this.setStateAndEmit({pan:e,pinch:i,rotate:n}),this.emit("touchmove",this.stateValue)}},{key:"finish",value:function(t){!this.locked&&this.started&&(this.mooving&&this.swipe(),null===this.mooving&&this.tap(),this.stateValue=this.state.refresh(this.stateValue,this.events.state),this.emit("touchend")),this.clear()}},{key:"clear",value:function(){this.pressEmitted&&window.clearTimeout(this.pressEmitted),this.started=null,this.ended=null,this.mooving=null,this.pressEmitted=null}},{key:"isLock",value:function(){return this.locked}},{key:"lock",value:function(){this.locked||(this.off("touchstart",this.__start,!0),this.off("touchmove",this.__move),this.off("touchend touchcancel",this.__finish,!0),this.locked=!0)}},{key:"unlock",value:function(){this.locked&&(this.on("touchstart",this.__start,!0),this.on("touchmove",this.__move),this.on("touchend touchcancel",this.__finish,!0),this.locked=!1)}},{key:"setStateAndEmit",value:function(t){this.stateValue=this.state.set(this.stateValue,t,this.events.state),t.pan&&this.pan(t.pan,this.stateValue),t.pinch&&this.pinch(t.pinch,this.stateValue),t.rotate&&this.rotate(t.rotate,this.stateValue)}},{key:"setState",value:function(t){var e=this;Object.keys(t).forEach(function(i){e.events.state[i]=t[i]})}},{key:"removeState",value:function(t){delete this.state[t],delete this.stateValue[t]}},{key:"clearState",value:function(){this.stateValue=this.state.create()}},{key:"tap",value:function(){var t=this.utils.howManyTouches(this.ended),e=Date.now()-this.started.time;1==t&&e<h&&this.emit("tap")}},{key:"press",value:function(){this.pressEmitted&&(this.emit("press",null),this.pressEmitted=null)}},{key:"swipe",value:function(){var t=this.utils.coords(this.started,this.ended);if(Math.abs(t.x)>d){var e=this.utils.stringDirection(t);this.emit("swipe"+e.x,t),this.emit("swipe"+e.y,t)}}},{key:"pan",value:function(t){return this.emit("pan",t)}},{key:"pinch",value:function(t){return this.emit("pinch",t)}},{key:"rotate",value:function(t){return this.emit("rotate",t)}},{key:"emit",value:function(t,e){return this.events[t]&&this.events[t](e,this.stateValue),e}},{key:"attach",value:function(t,e){this.events[t]=e}},{key:"detach",value:function(t){this.events[t]&&delete this.events[t]}},{key:"on",value:function(t,e,i){var n=this;t.split(" ").forEach(function(t){return n.el.addEventListener(t,e,!!i&&{passive:!0})})}},{key:"off",value:function(t,e,i){var n=this;t.split(" ").forEach(function(t){return n.el.removeEventListener(t,e,!!i&&{passive:!0})})}}]),t}();e.default=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s={new:function(){return{pan:{x:null,y:null},pinch:null,rotate:null}},create:function(){return Object.assign({},s.new(),{old:s.new()})},set:function(t,e,i){return e.rotate&&(t.rotate=e.rotate+t.old.rotate),e.pinch&&(t.pinch=e.pinch+t.old.pinch),e.pan&&e.pan.x&&(t.pan.x=e.pan.x+t.old.pan.x),e.pan&&e.pan.y&&(t.pan.y=e.pan.y+t.old.pan.y),Object.keys(i).forEach(function(e){return t[e]=i[e](t)}),t},refresh:function(t){return t.old=s.copyState(t),t},copyState:function(t){var e={};return Object.keys(t).forEach(function(i){"old"!=i&&(e[i]="object"===n(t[i])&&null!==t[i]?s.copyState(t[i]):t[i])}),e}};e.default={set:s.set,create:s.create,refresh:s.refresh}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={create:function(t,e,i){var s=i?Object.assign({},i,{updated:!0}):{time:Date.now()};return s.touches=n.getTouches(t.touches?t.touches:[t],e),s},getTouches:function(t,e){var i=[];return Object.keys(t).forEach(function(s){n.validate(t[s],e)&&i.push({clientX:t[s].clientX,clientY:t[s].clientY})}),i},validate:function(t,e){return t&&(t.clientX||t.clientY)&&(!e||e==t.target)},coords:function(t,e){return n.diff(t.touches[0],e.touches[0])},diff:function(t,e){return{x:e.clientX-t.clientX,y:e.clientY-t.clientY}},howManyTouches:function(t){return t&&t.touches?t.touches.length:0},isVertical:function(t,e){var i=n.coords(t,e);return Math.abs(i.y)>Math.abs(i.x)},isHorizontal:function(t,e){var i=n.coords(t,e);return Math.abs(i.x)>Math.abs(i.y)},stringDirection:function(t){return{x:t.x<=0?"Left":"Right",y:t.y<=0?"Top":"Bottom"}},distanceBetween:function(t,e){return n.distance(e)-n.distance(t)},distance:function t(e){var t=n.diff(e.touches[0],e.touches[1]);return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))},direction:function(t){var e=n.diff(t.touches[0],t.touches[1]);return 180*Math.atan2(e.y,e.x)/Math.PI},rotation:function(t,e){return n.direction(e)-n.direction(t)}};e.default={create:n.create,coords:n.coords,howManyTouches:n.howManyTouches,isVertical:n.isVertical,isHorizontal:n.isHorizontal,stringDirection:n.stringDirection,distanceBetween:n.distanceBetween,distance:n.distance,direction:n.direction,rotation:n.rotation}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var s=i(0),o=n(s);window.AloeTouch=o.default}]);
//# sourceMappingURL=aloetouch.min.js.map