exports.AloeTouch=function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=7)}([function(t,e,n){"use strict";function i(t,e,n){var i=[],s=t.touches?t.touches:{e:t};return Object.keys(s).forEach(function(t){r(s[t],e,n)&&i.push({screenX:s[t].screenX,screenY:s[t].screenY})}),i}function r(t,e,n){return t&&(t.screenX||t.screenY)&&(n?e==t.target:e.contains(t.target))}function s(t,e){return a(t.touches[0],e.touches[0])}function a(t,e){return{x:e.screenX-t.screenX,y:e.screenY-t.screenY}}function o(t){return t&&t.touches?t.touches.length:0}function u(t,e){var n=s(t,e);return Math.abs(n.y)>Math.abs(n.x)}function c(t,e){var n=s(t,e);return Math.abs(n.x)>Math.abs(n.y)}function h(t){return{x:t.x<=0?"Left":"Right",y:t.y<=0?"Top":"Bottom"}}function l(t,e){var n=s(t,e),i=(e.time-t.time)/1e3;return{x:n.x/i,y:n.y/i,d:p(n.x,n.y)/i}}function f(t,e){return d(e)-d(t)}function d(t){var e=a(t.touches[0],t.touches[1]);return p(e.x,e.y)}function p(t,e){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))}function v(t){var e=a(t.touches[0],t.touches[1]);return y(e.x,e.y)}function y(t,e){return 180*Math.atan2(e,t)/Math.PI}function m(t,e){return v(e)-v(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.getTouches=i,e.validate=r,e.coords=s,e.diff=a,e.fingers=o,e.isVertical=u,e.isHorizontal=c,e.stringDirection=h,e.velocity=l,e.distanceBetween=f,e.distance=d,e.scalar=p,e.direction=v,e.angle=y,e.rotation=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ALOETOUCH_MIN_TIME=100,e.ALOETOUCH_PRESS_MIN_TIME=600,e.ALOETOUCH_MIN_SWIPE_DISTANCE=60,e.ALOETOUCH_DBL_TAP_TIME=200},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1),o=n(0),u=n(3),c=i(u),h={strict:!1,stopPropagation:!1,onlyX:!1,onlyY:!1},l=function(){function t(e,n,i,s){r(this,t),this.id=e,this.el="string"==typeof n?document.querySelector(n):n,this.settings=Object.assign({},h,s),this.locked=!0,this.public=this.getPublicMethods(),this.Dispatcher=new c.default(e,this.el,i,this.public),this.start=this.start.bind(this),this.move=this.move.bind(this),this.finish=this.finish.bind(this),this.unlock(),this.el.style.willChange="transform"}return s(t,[{key:"start",value:function(t){!this.locked&&this.Dispatcher.start(t,(0,o.getTouches)(t,this.el,this.settings.strict))}},{key:"move",value:function(t){!this.locked&&this.Dispatcher.isStarted()&&this.Dispatcher.end(t,(0,o.getTouches)(t,this.el,this.settings.strict))&&this.isPermissible(t)?(t.preventDefault(),this.settings.stopPropagation&&(t.stopPropagation(),t.stopImmediatePropagation()),this.Dispatcher.dispatch(null,t)):this.Dispatcher.clear()}},{key:"isPermissible",value:function(t){var e=Date.now()-this.Dispatcher.started.time,n=(0,o.isHorizontal)(this.Dispatcher.started,this.Dispatcher.ended),i=(0,o.isVertical)(this.Dispatcher.started,this.Dispatcher.ended);return t.cancelable&&(!this.settings.onlyX&&!this.settings.onlyY&&e>a.ALOETOUCH_MIN_TIME||n||this.settings.onlyX&&n||this.settings.onlyY&&i)}},{key:"finish",value:function(t){!this.locked&&this.Dispatcher.isStarted()&&this.Dispatcher.dispatch(!0,t)}},{key:"isLock",value:function(){return this.locked}},{key:"lock",value:function(){this.locked||(this.off("touchstart",this.start,!0),this.off("touchmove",this.move),this.off("touchend touchcancel",this.finish,!0),this.locked=!0)}},{key:"unlock",value:function(){this.locked&&(this.on("touchstart",this.start,!0),this.on("touchmove",this.move),this.on("touchend touchcancel",this.finish,!0),this.locked=!1)}},{key:"on",value:function(t,e,n){var i=this;t.split(" ").forEach(function(t){return i.el.addEventListener(t,e,!n||{passive:!0})})}},{key:"off",value:function(t,e){var n=this;t.split(" ").forEach(function(t){return n.el.removeEventListener(t,e,!0)})}},{key:"getPublicMethods",value:function(){var t=this;return{el:this.el,$id:this.id,attach:function(e){t.Dispatcher.Emitter.attach(e)},detach:function(e){t.Dispatcher.Emitter.detach(e)},getState:function(){t.Dispatcher.Emitter.State.get()},clearState:function(){t.Dispatcher.Emitter.State.clear()},addState:function(e){t.Dispatcher.Emitter.State.add(e)},removeState:function(e){t.Dispatcher.Emitter.State.remove(e)},lock:function(){t.lock()},unlock:function(){t.unlock()},isLock:function(){return t.isLock()},$ref:this}}}]),t}();e.default=l},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1),o=n(0),u=n(4),c=i(u),h=function(){function t(e,n,i,s){r(this,t),this.Emitter=new c.default(e,n,i||{},s),this.started=null,this.ended=null,this.lastTap=null}return s(t,[{key:"start",value:function(t,e){if(!t.cancelable)return this.clear();this.started?this.started.touches=e:this.started={time:Date.now(),touches:e};var n=(0,o.fingers)(this.started);n&&(this.Emitter.prepare(this.started),this.Emitter.emitAfter("press",a.ALOETOUCH_PRESS_MIN_TIME),this.Emitter.emit("start",t),n>1&&t.preventDefault())}},{key:"isStarted",value:function(){return!!this.started}},{key:"end",value:function(t,e){return this.ended={time:Date.now(),touches:e},(0,o.fingers)(this.started)==(0,o.fingers)(this.ended)}},{key:"dispatch",value:function(t,e){var n=(0,o.fingers)(this.ended);this.Emitter.prepare(this.started,this.ended,n,!!t),t?this.dispatchFinalEvents(!!this.ended,e):this.dispatchMovedEvents(n,e)}},{key:"dispatchFinalEvents",value:function(t,e){t?this.dispatchSwipe(e):this.dispatchTap(e),this.Emitter.emit("end",e),this.clear()}},{key:"dispatchMovedEvents",value:function(t,e){this.Emitter.clearAfter("press"),1==t?this.Emitter.emit("pan",e):2==t&&(this.Emitter.emit("pan2",e),this.Emitter.emit("pinch",e),this.Emitter.emit("rotate",e)),this.Emitter.emit("move",e)}},{key:"dispatchTap",value:function(t){var e=this;this.lastTap?this.started.time-this.lastTap<a.ALOETOUCH_DBL_TAP_TIME&&(this.Emitter.clearAfter("tap"),this.Emitter.emit("dbltap",t),this.lastTap=null):(this.lastTap=this.started.time,this.Emitter.emitAfter("tap",a.ALOETOUCH_DBL_TAP_TIME,function(){return e.lastTap=null}))}},{key:"dispatchSwipe",value:function(t){this.Emitter.emit("swipe",t),this.Emitter.emit("swipeLeft",t),this.Emitter.emit("swipeRight",t),this.Emitter.emit("swipeTop",t),this.Emitter.emit("swipeBottom",t)}},{key:"clear",value:function(){this.started=null,this.ended=null,this.Emitter.clearAfter("press"),this.Emitter.State.refresh()}}]),t}();e.default=h},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(0),o=n(6),u=i(o),c=n(5),h=i(c),l=function(){function t(e,n,i,s){r(this,t),this.ato=s,this.events=i,this.State=new h.default(i.state||{}),this.initialData={id:e,el:n,ato:s},this.after={},this.detach("state")}return s(t,[{key:"emit",value:function(t,e){u.default.emit(t,this.data,this.events[t],e)===!1&&this.detach(t)}},{key:"emitAfter",value:function(t,e,n){var i=this;this.clearAfter(t),this.after[t]=window.setTimeout(function(){i.emit(t),n&&n()},e)}},{key:"clearAfter",value:function(t){var e=this;void 0===t?Object.keys(this.after).forEach(function(t){return e.clearAfter(t)}):(this.after[t]&&window.clearTimeout(this.after[t]),this.after[t]=null,delete this.after[t])}},{key:"prepare",value:function(t,e,n,i){this.data=Object.assign({},this.initialData,{started:t,ended:e,fingers:n,final:i}),this.setStateData(t,e,n,i),this.data.$state=this.State.get()}},{key:"setStateData",value:function(t,e,n,i){1==n?this.data.pan=(0,a.coords)(t,e):2==n&&(this.data.pan=(0,a.coords)(t,e),this.data.pinch=(0,a.distanceBetween)(t,e),this.data.rotate=(0,a.rotation)(t,e)),!i&&this.State.set(this.data)}},{key:"attach",value:function(t){var e=this;Object.keys(t).forEach(function(n){return e.events[n]=t[n]})}},{key:"detach",value:function(t){var e=this;t="Array"===t.constructor.name?t:[t],t.forEach(function(t){return e.events[t]&&delete e.events[t]})}}]),t}();e.default=l},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(){function t(e){i(this,t),this.customState=e,this.old=this.empty(),this.values=this.empty()}return s(t,[{key:"empty",value:function(){return{pan:{x:0,y:0},pinch:0,rotate:0}}},{key:"set",value:function(t){var e=this;return t.rotate&&(this.values.rotate=t.rotate+this.old.rotate),t.pinch&&(this.values.pinch=t.pinch+this.old.pinch),t.pan&&t.pan.x&&(this.values.pan.x=t.pan.x+this.old.pan.x),t.pan&&t.pan.y&&(this.values.pan.y=t.pan.y+this.old.pan.y),Object.keys(this.customState).forEach(function(t){return e.values[t]=e.customState[t](e.values)}),this.get()}},{key:"get",value:function(){return this.values}},{key:"refresh",value:function(){this.old=this.copy(this.values)}},{key:"copy",value:function(t){var e=this,n={};return Object.keys(t).forEach(function(i){n[i]="object"===r(t[i])&&null!==t[i]?e.copy(t[i]):t[i]}),n}},{key:"add",value:function(t){var e=this;Object.keys(t).forEach(function(n){return e.customState[n]=t[n]}),this.set({})}},{key:"remove",value:function(t){this.values[t]=null,this.values[t]=null,delete this.values[t],delete this.values[t]}},{key:"clear",value:function(){this.values=this.empty(),this.old=this.empty()}}]),t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(0),s=["start","move","end","tap","dbltap","press","swipe","swipeTop","swipeBottom","swipeLeft","swipeRight","pan","pan2","pinch","rotate"];e.default={emit:function(t,e,n,i){if(s.indexOf(t)>=0&&this[t]&&n){e.$event=i;return this[t](e,n)!==!1}},start:function(t,e){return e(t)},move:function(t,e){return e(t)},end:function(t,e){var n=t.pan;if(n){t.isSwipe=!1;var s=(0,r.stringDirection)(n);Math.abs(n.x)>i.ALOETOUCH_MIN_SWIPE_DISTANCE&&(t.isSwipe=!0,t.directions?t.directions.x=s.x:t.directions={x:s.x}),Math.abs(n.y)>i.ALOETOUCH_MIN_SWIPE_DISTANCE&&(t.isSwipe=!0,t.directions?t.directions.y=s.y:t.directions={y:s.y})}return e(t)},tap:function(t,e){if(Date.now()-t.started.time<i.ALOETOUCH_PRESS_MIN_TIME)return e()},dbltap:function(t,e){return e()},press:function(t,e){return e()},swipe:function(t,e){var n=t.pan,s=(0,r.stringDirection)(n);if(Math.abs(n.x)>i.ALOETOUCH_MIN_SWIPE_DISTANCE||Math.abs(n.y)>i.ALOETOUCH_MIN_SWIPE_DISTANCE)return e({coords:n,directions:s},t)},swipeLeft:function(t,e){var n=t.pan;if(n.x<0&&Math.abs(n.x)>i.ALOETOUCH_MIN_SWIPE_DISTANCE)return e({coords:n},t)},swipeRight:function(t,e){var n=t.pan;if(n.x>0&&Math.abs(n.x)>i.ALOETOUCH_MIN_SWIPE_DISTANCE)return e({coords:n},t)},swipeTop:function(t,e){var n=t.pan;if(Math.abs(n.y)>i.ALOETOUCH_MIN_SWIPE_DISTANCE)return e({coords:n},t)},swipeBottom:function(t,e){var n=t.pan;if(Math.abs(t.pan.y)>i.ALOETOUCH_MIN_SWIPE_DISTANCE)return e({coords:n},t)},pan:function(t,e){return e(t.pan,t)},pan2:function(t,e){return e(t.pan,t)},pinch:function(t,e){return e(t.pinch,t)},rotate:function(t,e){return e(t.rotation,t)}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),s=i(r),a={increment:0,list:{},bind:function(t,e,n){var i=++a.increment,r=new s.default(i,t,e,n).public;return r.el.setAttribute("aloetouch-data-id",i),a.list[i]=r},unbind:function(t){var e=t.nodeType?t.getAttribute("aloetouch-data-id"):this.getIds(t,!0);return!!e&&(a.list[e].lock(),delete a.list[e].$ref,delete a.list[e],!0)},get:function(t){return a.list.hasOwnProperty(t)?a.list[t]:null},getIds:function(t,e){return t="Array"===t.constructor.name?t:[t],t=t.map(function(t){return"number"==typeof t?a.get(t)?t:null:t.$ref?t.$id:null}),t=t.filter(function(t){return!!t}),e?t[0]:t},lock:function(t){t?a.list[t].lock():a.map(function(t){return t.lock()})},lockExcept:function(t){t=this.getIds(t)||[],a.map(function(e,n){return e[t.indexOf(n)==-1?"unlock":"lock"]()})},lockOnly:function(t){t=this.getIds(t)||[],a.map(function(e,n){return e[t.indexOf(n)>=0?"lock":"unlock"]()})},unlock:function(t){t?a.list[t].unlock():a.map(function(t){return t.unlock()})},unlockExcept:function(t){a.lockOnly(t)},unlockOnly:function(t){a.lockExcept(t)},map:function(t){Object.keys(a.list).forEach(function(e){return t(a.list[e],e)})}};e.default=a}]);
//# sourceMappingURL=aloetouch.min.js.map