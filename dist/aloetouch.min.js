exports.AloeTouch=function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=7)}([function(t,e,i){"use strict";function n(t,e,i){var n=[],r=t.touches?t.touches:{e:t};return Object.keys(r).forEach(function(t){s(r[t],e,i)&&n.push({screenX:r[t].screenX,screenY:r[t].screenY})}),n}function s(t,e,i){return t&&(t.screenX||t.screenY)&&(i?e==t.target:e.contains(t.target))}function r(t,e){return a(t.touches[0],e.touches[0])}function a(t,e){return{x:e.screenX-t.screenX,y:e.screenY-t.screenY}}function o(t){return t&&t.touches?t.touches.length:0}function u(t,e){var i=r(t,e);return Math.abs(i.y)>Math.abs(i.x)}function c(t,e){var i=r(t,e);return Math.abs(i.x)>Math.abs(i.y)}function h(t){return{x:t.x<=0?"Left":"Right",y:t.y<=0?"Top":"Bottom"}}function l(t,e){var i=r(t,e),n=(e.time-t.time)/1e3;return{x:i.x/n,y:i.y/n,d:d(i.x,i.y)/n}}function f(t,e){return p(e)-p(t)}function p(t){var e=a(t.touches[0],t.touches[1]);return d(e.x,e.y)}function d(t,e){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))}function v(t){var e=a(t.touches[0],t.touches[1]);return y(e.x,e.y)}function y(t,e){return 180*Math.atan2(e,t)/Math.PI}function m(t,e){return v(e)-v(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.getTouches=n,e.validate=s,e.coords=r,e.diff=a,e.fingers=o,e.isVertical=u,e.isHorizontal=c,e.stringDirection=h,e.velocity=l,e.distanceBetween=f,e.distance=p,e.scalar=d,e.direction=v,e.angle=y,e.rotation=m},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ALOETOUCH_MIN_TIME=100,e.ALOETOUCH_PRESS_MIN_TIME=600,e.ALOETOUCH_MIN_SWIPE_DISTANCE=60,e.ALOETOUCH_DBL_TAP_TIME=200},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(1),o=i(0),u=i(3),c=n(u),h={strict:!1,stopPropagation:!1,isPermissible:null,onlyX:!1,onlyY:!1},l=function(){function t(e,i,n,r){s(this,t),this.id=e,this.el="string"==typeof i?document.querySelector(i):i,this.settings=Object.assign({},h,r),this.locked=!0,this.public=this.getPublicMethods(),this.Dispatcher=new c.default(e,this.el,n,this.public),this.start=this.start.bind(this),this.move=this.move.bind(this),this.finish=this.finish.bind(this),this.unlock(),this.el.style.willChange="transform"}return r(t,[{key:"start",value:function(t){!this.locked&&this.Dispatcher.start(t,(0,o.getTouches)(t,this.el,this.settings.strict),this.settings.stopPropagation)}},{key:"move",value:function(t){!this.locked&&this.Dispatcher.isStarted()&&this.Dispatcher.end(t,(0,o.getTouches)(t,this.el,this.settings.strict))&&this.isPermissible(t)?(t.preventDefault(),this.settings.stopPropagation!==!0&&1!==this.settings.stopPropagation||t.stopPropagation(),this.settings.stopPropagation!==!0&&2!==this.settings.stopPropagation||t.stopImmediatePropagation(),this.Dispatcher.dispatch(null,t)):this.Dispatcher.clear()}},{key:"isPermissible",value:function(t){var e=this;return this.settings.isPermissible?this.settings.isPermissible(t,(0,o.coords)(this.Dispatcher.started,this.Dispatcher.ended),this.Dispatcher.started,this.Dispatcher.ended):function(){var i=Date.now()-e.Dispatcher.started.time,n=(0,o.isHorizontal)(e.Dispatcher.started,e.Dispatcher.ended),s=(0,o.isVertical)(e.Dispatcher.started,e.Dispatcher.ended);return t.cancelable&&(!e.settings.onlyX&&!e.settings.onlyY&&i>a.ALOETOUCH_MIN_TIME||n||e.settings.onlyX&&n||e.settings.onlyY&&s)}}},{key:"finish",value:function(t){!this.locked&&this.Dispatcher.isStarted()&&(this.Dispatcher.dispatch(!0,t),this.settings.stopPropagation&&(t.stopPropagation(),t.stopImmediatePropagation()))}},{key:"isLock",value:function(){return this.locked}},{key:"lock",value:function(){this.locked||(this.off("touchstart",this.start,!0),this.off("touchmove",this.move),this.off("touchend touchcancel",this.finish,!0),this.locked=!0)}},{key:"unlock",value:function(){this.locked&&(this.on("touchstart",this.start,!0),this.on("touchmove",this.move),this.on("touchend touchleave touchcancel",this.finish,!0),this.locked=!1)}},{key:"on",value:function(t,e,i){var n=this;t.split(" ").forEach(function(t){return n.el.addEventListener(t,e,!i||{passive:!0})})}},{key:"off",value:function(t,e){var i=this;t.split(" ").forEach(function(t){return i.el.removeEventListener(t,e,!0)})}},{key:"getPublicMethods",value:function(){var t=this;return{el:this.el,$id:this.id,attach:function(e){t.Dispatcher.Emitter.attach(e)},detach:function(e){t.Dispatcher.Emitter.detach(e)},getState:function(){t.Dispatcher.Emitter.State.get()},clearState:function(){t.Dispatcher.Emitter.State.clear()},addState:function(e){t.Dispatcher.Emitter.State.add(e)},removeState:function(e){t.Dispatcher.Emitter.State.remove(e)},lock:function(){t.lock()},unlock:function(){t.unlock()},isLock:function(){return t.isLock()},$ref:this}}}]),t}();e.default=l},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(1),o=i(0),u=i(4),c=n(u),h=function(){function t(e,i,n,r){s(this,t),this.Emitter=new c.default(e,i,n||{},r),this.started=null,this.ended=null,this.lastTap=null}return r(t,[{key:"start",value:function(t,e,i){if(!t.cancelable)return this.clear();this.started?this.started.touches=e:this.started={time:Date.now(),touches:e};var n=(0,o.fingers)(this.started);n&&(this.Emitter.prepare(this.started),this.Emitter.emitAfter("press",a.ALOETOUCH_PRESS_MIN_TIME),this.Emitter.emit("start",t),n>1&&(t.preventDefault(),i&&(i!==!0&&1!==i||t.stopPropagation(),i!==!0&&2!==i||t.stopImmediatePropagation())))}},{key:"isStarted",value:function(){return!!this.started}},{key:"end",value:function(t,e){return this.ended={time:Date.now(),touches:e},(0,o.fingers)(this.started)==(0,o.fingers)(this.ended)}},{key:"dispatch",value:function(t,e){var i=(0,o.fingers)(this.ended);this.Emitter.prepare(this.started,this.ended,i,!!t),t?this.dispatchFinalEvents(!!this.ended,e):this.dispatchMovedEvents(i,e)}},{key:"dispatchFinalEvents",value:function(t,e){t?this.dispatchSwipe(e):this.dispatchTap(e),this.Emitter.emit("end",e),this.clear()}},{key:"dispatchMovedEvents",value:function(t,e){this.Emitter.clearAfter("press"),1==t?this.Emitter.emit("pan",e):2==t&&(this.Emitter.emit("pan2",e),this.Emitter.emit("pinch",e),this.Emitter.emit("rotate",e)),this.Emitter.emit("move",e)}},{key:"dispatchTap",value:function(t){var e=this;this.lastTap?this.started.time-this.lastTap<a.ALOETOUCH_DBL_TAP_TIME&&(this.Emitter.clearAfter("tap"),this.Emitter.emit("dbltap",t),this.lastTap=null):(this.lastTap=this.started.time,this.Emitter.emitAfter("tap",a.ALOETOUCH_DBL_TAP_TIME,function(){return e.lastTap=null}))}},{key:"dispatchSwipe",value:function(t){this.Emitter.emit("swipe",t),this.Emitter.emit("swipeLeft",t),this.Emitter.emit("swipeRight",t),this.Emitter.emit("swipeTop",t),this.Emitter.emit("swipeBottom",t)}},{key:"clear",value:function(){this.started=null,this.ended=null,this.Emitter.clearAfter("press"),this.Emitter.State.refresh()}}]),t}();e.default=h},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(0),o=i(6),u=n(o),c=i(5),h=n(c),l=function(){function t(e,i,n,r){s(this,t),this.ato=r,this.events=n,this.State=new h.default(n.state||{}),this.initialData={id:e,el:i,ato:r},this.after={},this.detach("state")}return r(t,[{key:"emit",value:function(t,e){u.default.emit(t,this.data,this.events[t],e)===!1&&this.detach(t)}},{key:"emitAfter",value:function(t,e,i){var n=this;this.clearAfter(t),this.after[t]=window.setTimeout(function(){n.emit(t),i&&i()},e)}},{key:"clearAfter",value:function(t){var e=this;void 0===t?Object.keys(this.after).forEach(function(t){return e.clearAfter(t)}):(this.after[t]&&window.clearTimeout(this.after[t]),this.after[t]=null,delete this.after[t])}},{key:"prepare",value:function(t,e,i,n){this.data=Object.assign({},this.initialData,{started:t,ended:e,fingers:i,final:n}),this.setStateData(t,e,i,n),this.data.$state=this.State.get()}},{key:"setStateData",value:function(t,e,i,n){1==i?this.data.pan=(0,a.coords)(t,e):2==i&&(this.data.pan=(0,a.coords)(t,e),this.data.pinch=(0,a.distanceBetween)(t,e),this.data.rotate=(0,a.rotation)(t,e)),!n&&this.State.set(this.data)}},{key:"attach",value:function(t){var e=this;Object.keys(t).forEach(function(i){return e.events[i]=t[i]})}},{key:"detach",value:function(t){var e=this;t="Array"===t.constructor.name?t:[t],t.forEach(function(t){return e.events[t]&&delete e.events[t]})}}]),t}();e.default=l},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(){function t(e){n(this,t),this.customState=e,this.old=this.empty(),this.values=this.empty()}return r(t,[{key:"empty",value:function(){return{pan:{x:0,y:0},pinch:0,rotate:0}}},{key:"set",value:function(t){var e=this;return t.rotate&&(this.values.rotate=t.rotate+this.old.rotate),t.pinch&&(this.values.pinch=t.pinch+this.old.pinch),t.pan&&t.pan.x&&(this.values.pan.x=t.pan.x+this.old.pan.x),t.pan&&t.pan.y&&(this.values.pan.y=t.pan.y+this.old.pan.y),Object.keys(this.customState).forEach(function(t){return e.values[t]=e.customState[t](e.values)}),this.get()}},{key:"get",value:function(){return this.values}},{key:"refresh",value:function(){this.old=this.copy(this.values)}},{key:"copy",value:function(t){var e=this,i={};return Object.keys(t).forEach(function(n){i[n]="object"===s(t[n])&&null!==t[n]?e.copy(t[n]):t[n]}),i}},{key:"add",value:function(t){var e=this;Object.keys(t).forEach(function(i){return e.customState[i]=t[i]}),this.set({})}},{key:"remove",value:function(t){this.values[t]=null,this.values[t]=null,delete this.values[t],delete this.values[t]}},{key:"clear",value:function(){this.values=this.empty(),this.old=this.empty()}}]),t}();e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),s=i(0),r=["start","move","end","tap","dbltap","press","swipe","swipeTop","swipeBottom","swipeLeft","swipeRight","pan","pan2","pinch","rotate"];e.default={emit:function(t,e,i,n){if(r.indexOf(t)>=0&&this[t]&&i)return e.$event=n,this[t](e,i)},start:function(t,e){return e(t)},move:function(t,e){return e(t)},end:function(t,e){var i=t.pan;if(i){t.isSwipe=!1;var r=(0,s.stringDirection)(i);Math.abs(i.x)>n.ALOETOUCH_MIN_SWIPE_DISTANCE&&(t.isSwipe=!0,t.directions?t.directions.x=r.x:t.directions={x:r.x}),Math.abs(i.y)>n.ALOETOUCH_MIN_SWIPE_DISTANCE&&(t.isSwipe=!0,t.directions?t.directions.y=r.y:t.directions={y:r.y})}return e(t)},tap:function(t,e){if(Date.now()-t.started.time<n.ALOETOUCH_PRESS_MIN_TIME)return e()},dbltap:function(t,e){return e()},press:function(t,e){return e()},swipe:function(t,e){var i=t.pan,r=(0,s.stringDirection)(i);if(Math.abs(i.x)>n.ALOETOUCH_MIN_SWIPE_DISTANCE||Math.abs(i.y)>n.ALOETOUCH_MIN_SWIPE_DISTANCE)return e({coords:i,directions:r},t)},swipeLeft:function(t,e){var i=t.pan;if(i.x<0&&Math.abs(i.x)>n.ALOETOUCH_MIN_SWIPE_DISTANCE)return e({coords:i},t)},swipeRight:function(t,e){var i=t.pan;if(i.x>0&&Math.abs(i.x)>n.ALOETOUCH_MIN_SWIPE_DISTANCE)return e({coords:i},t)},swipeTop:function(t,e){var i=t.pan;if(Math.abs(i.y)>n.ALOETOUCH_MIN_SWIPE_DISTANCE)return e({coords:i},t)},swipeBottom:function(t,e){var i=t.pan;if(Math.abs(t.pan.y)>n.ALOETOUCH_MIN_SWIPE_DISTANCE)return e({coords:i},t)},pan:function(t,e){return e(t.pan,t)},pan2:function(t,e){return e(t.pan,t)},pinch:function(t,e){return e(t.pinch,t)},rotate:function(t,e){return e(t.rotation,t)}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(2),r=n(s),a={version:"0.0.0-beta.03",increment:0,list:{},bind:function(t,e,i){var n=++a.increment,s=new r.default(n,t,e,i).public;return s.el.setAttribute("aloetouch-data-id",n),a.list[n]=s},unbind:function(t){var e=t.nodeType?t.getAttribute("aloetouch-data-id"):this.getIds(t,!0);return!!e&&(a.list[e].lock(),delete a.list[e].$ref,delete a.list[e],!0)},get:function(t){return a.list.hasOwnProperty(t)?a.list[t]:null},getIds:function(t,e){return t="Array"===t.constructor.name?t:[t],t=t.map(function(t){return"number"==typeof t?a.get(t)?t:null:t.$ref?t.$id:null}),t=t.filter(function(t){return!!t}),e?t[0]:t},lock:function(t){t?a.list[t].lock():a.map(function(t){return t.lock()})},lockExcept:function(t){t=this.getIds(t)||[],a.map(function(e,i){return e[t.indexOf(i)==-1?"unlock":"lock"]()})},lockOnly:function(t){t=this.getIds(t)||[],a.map(function(e,i){return e[t.indexOf(i)>=0?"lock":"unlock"]()})},unlock:function(t){t?a.list[t].unlock():a.map(function(t){return t.unlock()})},unlockExcept:function(t){a.lockOnly(t)},unlockOnly:function(t){a.lockExcept(t)},map:function(t){Object.keys(a.list).forEach(function(e){return t(a.list[e],e)})}};e.default=a}]);
//# sourceMappingURL=aloetouch.min.js.map