<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
    <title>AloeTouch</title>

    <style>
        *{ box-sizing: border-box; }
        body{ margin: 0 auto; max-width: 600px; width: 100%; padding: 10vh 5vw; overflow-x: hidden; }
        .container{ width: 100%; background: #ddd; border-radius: 50%;  }
        #image{ width: 100%;  }

        .animate{
            transition: all 300ms;
            transform: none;
        }
    </style>

    <script src="../dist/aloetouch.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var ato = AloeTouch.bind('#image', {
                move: function(state) {
                    ato.el.style.transform = `translate(${ state.pan.x || 0 }px, ${ state.pan.y || 0 }px)`;
                },
                tap: function(){
                   console.log('tap');
                }
            });
            ato.attach({
                press(){
                    console.log('press');
                }
            })


            window.unbind = function() {
                console.log(ato);
                if(AloeTouch.unbind(ato)){
                    alert('L\'elemento non sarà più gesito')
                    console.log('attach', ato);
                    ato.attach({
                        tap(){
                            console.log('tap');
                        }
                    })
                }
            }
        });
    </script>
</head>
<body>

    <div class="container">
        <button onclick="unbind()">Unbind</button>
        <img id="image" src="http://www.aloearborescensinfo.it/wp-content/uploads/2017/01/IQF-Aloe-Vera-02.png" alt="">
    </div>
</body>
</html>
